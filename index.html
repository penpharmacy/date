<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏¢‡∏≤</title>
  <style>
    body { font-family: Tahoma, sans-serif; margin: 20px; background: linear-gradient(135deg, #a1c4fd, #c2e9fb); }
    h2 { color: #1a73e8; text-shadow: 1px 1px 2px #ffffff; }
    label { display: block; margin-top: 10px; font-weight: bold; color: #073763; }
    select, input { margin: 5px; padding: 8px; border-radius: 8px; border: 1px solid #1a73e8; background-color: #e3f2fd; }
    select { font-weight: bold; }
    table { border-collapse: collapse; margin-top: 20px; width: 100%; max-width: 500px; border-radius: 10px; overflow: hidden; }
    th, td { border: 1px solid #1a73e8; padding: 10px; text-align: center; }
    th { background-color: #1a73e8; color: white; }
    td { background-color: #bbdefb; }
    button { margin-top: 20px; padding: 12px 20px; font-size: 16px; border-radius: 10px; border: none; cursor: pointer; background: linear-gradient(90deg, #ffafbd, #ffc3a0); color: white; font-weight: bold; }
    button:hover { background: linear-gradient(90deg, #ffc3a0, #ffafbd); }
    .warning { color: #d32f2f; margin-top: 10px; font-weight: bold; background-color: #ffebee; padding: 8px; border-radius: 6px; }
  </style>
</head>
<body>
  <h2>üìÖ ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏±‡∏ô ‡πÅ‡∏•‡∏∞‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏¢‡∏≤</h2>

  <div>
    <label>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô:</label>
    <input type="number" id="startDay" min="1" max="31" placeholder="‡∏ß‡∏±‡∏ô">
    <select id="startMonth">
      <option value="0">‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏°</option>
      <option value="1">‡∏Å‡∏∏‡∏°‡∏†‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡πå</option>
      <option value="2">‡∏°‡∏µ‡∏ô‡∏≤‡∏Ñ‡∏°</option>
      <option value="3">‡πÄ‡∏°‡∏©‡∏≤‡∏¢‡∏ô</option>
      <option value="4">‡∏û‡∏§‡∏©‡∏†‡∏≤‡∏Ñ‡∏°</option>
      <option value="5">‡∏°‡∏¥‡∏ñ‡∏∏‡∏ô‡∏≤‡∏¢‡∏ô</option>
      <option value="6">‡∏Å‡∏£‡∏Å‡∏é‡∏≤‡∏Ñ‡∏°</option>
      <option value="7">‡∏™‡∏¥‡∏á‡∏´‡∏≤‡∏Ñ‡∏°</option>
      <option value="8">‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô</option>
      <option value="9">‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏°</option>
      <option value="10">‡∏û‡∏§‡∏®‡∏à‡∏¥‡∏Å‡∏≤‡∏¢‡∏ô</option>
      <option value="11">‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏°</option>
    </select>
    <input type="number" id="startYear" placeholder="‡∏õ‡∏µ (‡∏û.‡∏®.)">
  </div>

  <div>
    <label>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î:</label>
    <input type="number" id="endDay" min="1" max="31" placeholder="‡∏ß‡∏±‡∏ô">
    <select id="endMonth">
      <option value="0">‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏°</option>
      <option value="1">‡∏Å‡∏∏‡∏°‡∏†‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡πå</option>
      <option value="2">‡∏°‡∏µ‡∏ô‡∏≤‡∏Ñ‡∏°</option>
      <option value="3">‡πÄ‡∏°‡∏©‡∏≤‡∏¢‡∏ô</option>
      <option value="4">‡∏û‡∏§‡∏©‡∏†‡∏≤‡∏Ñ‡∏°</option>
      <option value="5">‡∏°‡∏¥‡∏ñ‡∏∏‡∏ô‡∏≤‡∏¢‡∏ô</option>
      <option value="6">‡∏Å‡∏£‡∏Å‡∏é‡∏≤‡∏Ñ‡∏°</option>
      <option value="7">‡∏™‡∏¥‡∏á‡∏´‡∏≤‡∏Ñ‡∏°</option>
      <option value="8">‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô</option>
      <option value="9">‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏°</option>
      <option value="10">‡∏û‡∏§‡∏®‡∏à‡∏¥‡∏Å‡∏≤‡∏¢‡∏ô</option>
      <option value="11">‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏°</option>
    </select>
    <input type="number" id="endYear" placeholder="‡∏õ‡∏µ (‡∏û.‡∏®.)">
  </div>

  <div>
    <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏°‡πá‡∏î‡∏ï‡πà‡∏≠‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå:</label>
    <input type="number" id="pillsPerWeek" value="7" min="1"> ‡πÄ‡∏°‡πá‡∏î/‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå
  </div>

  <div id="warning" class="warning" style="display:none;">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏°‡πà‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</div>

  <table id="resultTable" style="display:none;">
    <thead>
      <tr>
        <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏±‡∏ô</th>
        <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå</th>
        <th>‡πÄ‡∏°‡πá‡∏î/‡∏ß‡∏±‡∏ô</th>
        <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏°‡πá‡∏î‡∏¢‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td id="daysCell"></td>
        <td id="weeksCell"></td>
        <td id="pillsPerDayCell"></td>
        <td id="totalPillsCell"></td>
      </tr>
    </tbody>
  </table>

  <button onclick="window.print()">üñ®Ô∏è ‡∏û‡∏¥‡∏°‡∏û‡πå/‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å PDF</button>

  <script>
    function calculate() {
      const sd = parseInt(document.getElementById('startDay').value);
      const sm = parseInt(document.getElementById('startMonth').value);
      const sy = parseInt(document.getElementById('startYear').value) - 543;

      const ed = parseInt(document.getElementById('endDay').value);
      const em = parseInt(document.getElementById('endMonth').value);
      const ey = parseInt(document.getElementById('endYear').value) - 543;

      const pillsPerWeek = parseFloat(document.getElementById('pillsPerWeek').value);

      if (isNaN(sd) || isNaN(sm) || isNaN(sy) || isNaN(ed) || isNaN(em) || isNaN(ey) || isNaN(pillsPerWeek)) {
        document.getElementById('resultTable').style.display = "none";
        document.getElementById('warning').style.display = "none";
        return;
      }

      const startDate = new Date(sy, sm, sd);
      const endDate = new Date(ey, em, ed);

      if (endDate < startDate) {
        document.getElementById('resultTable').style.display = "none";
        document.getElementById('warning').style.display = "block";
        return;
      } else {
        document.getElementById('warning').style.display = "none";
      }

      const diffTime = endDate - startDate;
      const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24)) + 1;
      const weeks = diffDays / 7;
      const pillsPerDay = pillsPerWeek / 7;
      const totalPills = Math.ceil(pillsPerDay * diffDays);

      document.getElementById('daysCell').innerText = diffDays;
      document.getElementById('weeksCell').innerText = weeks.toFixed(2);
      document.getElementById('pillsPerDayCell').innerText = pillsPerDay.toFixed(2);
      document.getElementById('totalPillsCell').innerText = totalPills;

      document.getElementById('resultTable').style.display = "table";
    }

    function setTodayAsStart() {
      const today = new Date();
      document.getElementById('startDay').value = today.getDate();
      document.getElementById('startMonth').value = today.getMonth();
      document.getElementById('startYear').value = today.getFullYear() + 543;
    }

    document.querySelectorAll("input, select").forEach(el => {
      el.addEventListener("input", calculate);
      el.addEventListener("change", calculate);
    });

    setTodayAsStart();
  </script>
</body>
</html>
